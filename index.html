<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>勤怠管理</title>
  <link rel="stylesheet" href="./style.css?v=43" />
  <link rel="stylesheet" href="./responsive.css?v=1" />
</head>
<body class="theme-pop">
  <!-- モバイルヘッダー -->
  <header class="mobile-header">
    <button class="menu-toggle" id="menuToggle" aria-label="グラフ切り替え" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>


  <h1 class="main-title">smile burger 勤怠管理システム</h1>


  <div class="layout">
    <!-- 従業員一覧 -->
    <section class="employee-list card" aria-labelledby="emp-title">
      <h2 id="emp-title" class="card-title">従業員ID一覧</h2>
      <ul id="employeeList" class="list" role="list" aria-live="polite"></ul>

      <!-- 1人分のLIテンプレ -->
      <template id="tpl-employee-item">
        <li><a class="emp-link" href="#">名前</a></li>
      </template>
    </section>

    <!-- ガントチャート -->
    <section class="gantt-area" aria-labelledby="gantt-title">
      <div class="card">
        <h3 id="gantt-title" class="card-title">本日の出勤予定（営業時間 10:00–21:00）</h3>

        <div class="legend" role="group" aria-label="ポジション凡例">
          <span class="legend-item"><i class="legend-swatch pos-reji"></i>レジ</span>
          <span class="legend-item"><i class="legend-swatch pos-drink"></i>ドリンカー</span>
          <span class="legend-item"><i class="legend-swatch pos-fry"></i>フライヤー</span>
          <span class="legend-item"><i class="legend-swatch pos-burger"></i>バーガー</span>
          <span class="legend-item"><i class="legend-swatch seg-break"></i>休憩</span>
        </div>

        <!-- Chart.js キャンバス -->
        <div id="ganttContainer" style="position: relative;">
          <canvas id="ganttCanvas" class="gantt-canvas" role="img" aria-label="勤務ガントチャート"></canvas>
          <div id="ganttLoading" class="chart-loading-overlay" style="display: none;">
            <div class="inline-loader">グラフを更新中</div>
          </div>
          <div id="ganttEmpty" class="empty-state" style="display: none;">
            <svg class="empty-icon" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <line x1="3" y1="9" x2="21" y2="9"/>
              <line x1="9" y1="21" x2="9" y2="9"/>
            </svg>
            <h3 class="empty-title">データがありません</h3>
            <p class="empty-description">まだ本日の退勤者はいません</p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div class="mobile-overlay" id="mobileOverlay"></div>

  
  <div id="loadingOverlay" class="loading-overlay" role="status" aria-live="polite" aria-hidden="true">
    <div class="loading-spinner"></div>
    <span class="sr-only">読み込み中...</span>
  </div>


<script src="https://cdn.jsdelivr.net/npm/luxon@3"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1"></script>

<!-- アプリ本体 -->
<script src="./api.js?v=42"></script>
<script src="./index.js?v=49"></script>

</body>
</html>